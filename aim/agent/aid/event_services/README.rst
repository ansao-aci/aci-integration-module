TODO: how to write an event service